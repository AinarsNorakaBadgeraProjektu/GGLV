import{o as j,r as l,R as w,L as k,j as e,s as h,B as c,T as t,P as L,a as S,b as z,f as p}from"./index-gyOQFbWm.js";import{G as x}from"./Grid-DGwavoS0.js";import{T as C}from"./TextInput-D7ENN_nh.js";import"./InputBase-Ju6Otq6v.js";import"./Input-CUaF4mI9.js";/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var B=j("outline","brand-discord","IconBrandDiscord",[["path",{d:"M8 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-0"}],["path",{d:"M14 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833 -1.667 3.5 -3c.667 -1.667 .5 -5.833 -1.5 -11.5c-1.457 -1.015 -3 -1.34 -4.5 -1.5l-.972 1.923a11.913 11.913 0 0 0 -4.053 0l-.975 -1.923c-1.5 .16 -3.043 .485 -4.5 1.5c-2 5.667 -2.167 9.833 -1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2 -2 2 -3",key:"svg-2"}],["path",{d:"M7 16.5c3.5 1 6.5 1 10 0",key:"svg-3"}]]);const E=()=>{const[u,f]=l.useState(!1),[o,i]=l.useState([]),m=w(k),{settings:r}=m;l.useEffect(()=>{(async()=>{const a=await p("av_business","getLogs");a&&(i(a),setTimeout(()=>{f(!0)},100))})()},[]);const g=(s,a)=>{const n=o.map((d,y)=>y===s?{...d,webhook:a}:d);i(n)},v=s=>{p("av_business","saveLogs",o[s])},b=e.jsx(B,{style:{width:h(16),height:h(16)}});return e.jsx(e.Fragment,{children:u?e.jsxs(c,{style:{overflow:"hidden",overflowX:"hidden"},h:"calc(100%)",children:[e.jsx(t,{c:"gray.5",fz:"sm",children:r.header}),e.jsx(x,{h:"calc(75%)",style:{overflow:"auto",overflowX:"hidden"},mt:"xs",children:o.map((s,a)=>e.jsx(x.Col,{span:{base:4,sm:6,lg:3},children:e.jsxs(L,{p:"sm",bg:"rgba(39, 43, 54, 0.3)",style:{border:"solid 1px rgba(200,200,200,0.15)",borderRadius:"6px",overflow:"hidden"},mah:220,children:[e.jsx(t,{children:s.label}),e.jsx(c,{h:60,style:{overflow:"auto",overflowX:"hidden"},children:e.jsx(t,{fz:"xs",c:"dimmed",children:s.description})}),e.jsx(C,{leftSectionPointerEvents:"none",leftSection:b,label:e.jsx(t,{fz:"xs",children:r.webhook}),placeholder:r.placeholder,value:s.webhook?s.webhook:null,onChange:n=>{g(a,n.target.value)},size:"xs",styles:{input:{backgroundColor:"rgba(40, 40, 40, 0.25)"}}}),e.jsx(S,{display:"block",ml:"auto",mr:"auto",mt:"xs",size:"xs",variant:"filled",w:"100%",ta:"center",color:"cyan",onClick:()=>{v(a)},children:"Save"})]})},s.value))})]}):e.jsx(c,{style:{display:"flex",alignContent:"center",alignItems:"center",height:"100%"},children:e.jsx(z,{visible:!0,zIndex:1e3,loaderProps:{color:"teal",type:"dots"},overlayProps:{radius:"sm",blur:2,opacity:0}})})})};export{E as default};
