import{d as G,e as $,u as W,j as l,B as se,h as ye,c as T,i as cs,Y as ps,r as ve,n as us,m as hs}from"./index-gyOQFbWm.js";import{u as fs}from"./use-resolved-styles-api-DnEmOX7E.js";import{a as ms,i as gs,g as ys,b as vs,u as Ps,C as O,O as bs}from"./Select-ZJJzBZoW.js";import{I as Pe}from"./InputBase-Ju6Otq6v.js";import{c as be,u as Ss}from"./Input-CUaF4mI9.js";import{u as ge}from"./use-uncontrolled-YvCjPSRu.js";const[xs,te]=be(),[ws,Is]=be();var q={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const _s={},Cs=ye((c,{gap:a},{size:s})=>({group:{"--pg-gap":a!==void 0?T(a):T(s,"pg-gap")}})),le=G((c,a)=>{const s=$("PillGroup",_s,c),{classNames:y,className:i,style:n,styles:p,unstyled:o,vars:I,size:u,disabled:P,...b}=s,r=te(),e=(r==null?void 0:r.size)||u||void 0,h=W({name:"PillGroup",classes:q,props:s,className:i,style:n,classNames:y,styles:p,unstyled:o,vars:I,varsResolver:Cs,stylesCtx:{size:e},rootSelector:"group"});return l.jsx(ws,{value:{size:e,disabled:P},children:l.jsx(se,{ref:a,size:e,...h("group"),...b})})});le.classes=q;le.displayName="@mantine/core/PillGroup";const Ds={variant:"default"},Os=ye((c,{radius:a},{size:s})=>({root:{"--pill-fz":T(s,"pill-fz"),"--pill-height":T(s,"pill-height"),"--pill-radius":a===void 0?void 0:cs(a)}})),M=G((c,a)=>{const s=$("Pill",Ds,c),{classNames:y,className:i,style:n,styles:p,unstyled:o,vars:I,variant:u,children:P,withRemoveButton:b,onRemove:r,removeButtonProps:e,radius:h,size:f,disabled:v,mod:V,...j}=s,m=Is(),_=te(),N=f||(m==null?void 0:m.size)||void 0,R=(_==null?void 0:_.variant)==="filled"?"contrast":u||"default",k=W({name:"Pill",classes:q,props:s,className:i,style:n,classNames:y,styles:p,unstyled:o,vars:I,varsResolver:Os,stylesCtx:{size:N}});return l.jsxs(se,{component:"span",ref:a,variant:R,size:N,...k("root",{variant:R}),mod:[{"with-remove":b&&!v,disabled:v||(m==null?void 0:m.disabled)},V],...j,children:[l.jsx("span",{...k("label"),children:P}),b&&l.jsx(ms,{variant:"transparent",radius:h,tabIndex:-1,"aria-hidden":!0,unstyled:o,...e,...k("remove",{className:e==null?void 0:e.className,style:e==null?void 0:e.style}),onMouseDown:w=>{var C;w.preventDefault(),w.stopPropagation(),(C=e==null?void 0:e.onMouseDown)==null||C.call(e,w)},onClick:w=>{var C;w.stopPropagation(),r==null||r(),(C=e==null?void 0:e.onClick)==null||C.call(e,w)}})]})});M.classes=q;M.displayName="@mantine/core/Pill";M.Group=le;var Se={field:"m_45c4369d"};const js={type:"visible"},oe=G((c,a)=>{const s=$("PillsInputField",js,c),{classNames:y,className:i,style:n,styles:p,unstyled:o,vars:I,type:u,disabled:P,id:b,pointer:r,mod:e,...h}=s,f=te(),v=Ss(),V=W({name:"PillsInputField",classes:Se,props:s,className:i,style:n,classNames:y,styles:p,unstyled:o,rootSelector:"field"}),j=P||(f==null?void 0:f.disabled);return l.jsx(se,{component:"input",ref:ps(a,f==null?void 0:f.fieldRef),"data-type":u,disabled:j,mod:[{disabled:j,pointer:r},e],...V("field"),...h,id:(v==null?void 0:v.inputId)||b,"aria-invalid":f==null?void 0:f.hasError,"aria-describedby":v==null?void 0:v.describedBy,type:"text",onMouseDown:m=>!r&&m.stopPropagation()})});oe.classes=Se;oe.displayName="@mantine/core/PillsInputField";const Ns={},H=G((c,a)=>{const s=$("PillsInput",Ns,c),{children:y,onMouseDown:i,onClick:n,size:p,disabled:o,__staticSelector:I,error:u,variant:P,...b}=s,r=ve.useRef();return l.jsx(xs,{value:{fieldRef:r,size:p,disabled:o,hasError:!!u,variant:P},children:l.jsx(Pe,{size:p,error:u,variant:P,component:"div",ref:a,onMouseDown:e=>{var h;e.preventDefault(),i==null||i(e),(h=r.current)==null||h.focus()},onClick:e=>{var h;e.preventDefault(),n==null||n(e),(h=r.current)==null||h.focus()},...b,multiline:!0,disabled:o,__staticSelector:I||"PillsInput",withAria:!1,children:y})})});H.displayName="@mantine/core/PillsInput";H.Field=oe;function zs({data:c,value:a}){const s=a.map(i=>i.trim().toLowerCase());return c.reduce((i,n)=>(gs(n)?i.push({group:n.group,items:n.items.filter(p=>s.indexOf(p.value.toLowerCase().trim())===-1)}):s.indexOf(n.value.toLowerCase().trim())===-1&&i.push(n),i),[])}const Vs={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},xe=G((c,a)=>{const s=$("MultiSelect",Vs,c),{classNames:y,className:i,style:n,styles:p,unstyled:o,vars:I,size:u,value:P,defaultValue:b,onChange:r,onKeyDown:e,variant:h,data:f,dropdownOpened:v,defaultDropdownOpened:V,onDropdownOpen:j,onDropdownClose:m,selectFirstOptionOnChange:_,onOptionSubmit:N,comboboxProps:R,filter:k,limit:w,withScrollArea:C,maxDropdownHeight:we,searchValue:Ie,defaultSearchValue:_e,onSearchChange:Ce,readOnly:E,disabled:D,onFocus:K,onBlur:U,onPaste:ks,radius:De,rightSection:Oe,rightSectionWidth:je,rightSectionPointerEvents:ae,rightSectionProps:Ne,leftSection:ze,leftSectionWidth:Ve,leftSectionPointerEvents:ke,leftSectionProps:Ee,inputContainer:Fe,inputWrapperOrder:Me,withAsterisk:Ge,labelProps:$e,descriptionProps:Re,errorProps:Ae,wrapperProps:Le,description:Te,label:Y,error:ie,maxValues:He,searchable:S,nothingFoundMessage:ne,withCheckIcon:We,checkIconPosition:qe,hidePickedOptions:re,withErrorStyles:Ke,name:Ue,form:Ye,id:Be,clearable:Je,clearButtonProps:Qe,hiddenInputProps:Xe,placeholder:de,hiddenInputValuesDivider:Ze,required:es,mod:ss,renderOption:ts,onRemove:x,onClear:B,scrollAreaProps:ls,...ce}=s,J=us(Be),Q=ys(f),z=vs(Q),g=Ps({opened:v,defaultOpened:V,onDropdownOpen:j,onDropdownClose:()=>{m==null||m(),g.resetSelectedOption()}}),{styleProps:os,rest:{type:Es,autoComplete:as,...is}}=hs(ce),[d,F]=ge({value:P,defaultValue:b,finalValue:[],onChange:r}),[A,L]=ge({value:Ie,defaultValue:_e,finalValue:"",onChange:Ce}),X=W({name:"MultiSelect",classes:{},props:s,classNames:y,styles:p,unstyled:o}),{resolvedClassNames:pe,resolvedStyles:ue}=fs({props:s,styles:p,classNames:y}),ns=t=>{e==null||e(t),t.key===" "&&!S&&(t.preventDefault(),g.toggleDropdown()),t.key==="Backspace"&&A.length===0&&d.length>0&&(x==null||x(d[d.length-1]),F(d.slice(0,d.length-1)))},rs=d.map((t,ee)=>{var fe,me;return l.jsx(M,{withRemoveButton:!E&&!((fe=z[t])!=null&&fe.disabled),onRemove:()=>{F(d.filter(ds=>t!==ds)),x==null||x(t)},unstyled:o,disabled:D,...X("pill"),children:((me=z[t])==null?void 0:me.label)||t},`${t}-${ee}`)});ve.useEffect(()=>{_&&g.selectFirstOption()},[_,d]);const Z=Je&&d.length>0&&!D&&!E&&l.jsx(O.ClearButton,{size:u,...Qe,onClear:()=>{B==null||B(),F([]),L("")}}),he=zs({data:Q,value:d});return l.jsxs(l.Fragment,{children:[l.jsxs(O,{store:g,classNames:pe,styles:ue,unstyled:o,size:u,readOnly:E,__staticSelector:"MultiSelect",onOptionSubmit:t=>{N==null||N(t),L(""),g.updateSelectedOptionIndex("selected"),d.includes(z[t].value)?(F(d.filter(ee=>ee!==z[t].value)),x==null||x(z[t].value)):d.length<He&&F([...d,z[t].value])},...R,children:[l.jsx(O.DropdownTarget,{children:l.jsx(H,{...os,__staticSelector:"MultiSelect",classNames:pe,styles:ue,unstyled:o,size:u,className:i,style:n,variant:h,disabled:D,radius:De,rightSection:Oe||Z||l.jsx(O.Chevron,{size:u,error:ie,unstyled:o}),rightSectionPointerEvents:ae||(Z?"all":"none"),rightSectionWidth:je,rightSectionProps:Ne,leftSection:ze,leftSectionWidth:Ve,leftSectionPointerEvents:ke,leftSectionProps:Ee,inputContainer:Fe,inputWrapperOrder:Me,withAsterisk:Ge,labelProps:$e,descriptionProps:Re,errorProps:Ae,wrapperProps:Le,description:Te,label:Y,error:ie,multiline:!0,withErrorStyles:Ke,__stylesApiProps:{...s,rightSectionPointerEvents:ae||(Z?"all":"none"),multiline:!0},pointer:!S,onClick:()=>S?g.openDropdown():g.toggleDropdown(),"data-expanded":g.dropdownOpened||void 0,id:J,required:es,mod:ss,children:l.jsxs(M.Group,{disabled:D,unstyled:o,...X("pillsList"),children:[rs,l.jsx(O.EventsTarget,{autoComplete:as,children:l.jsx(H.Field,{...is,ref:a,id:J,placeholder:de,type:!S&&!de?"hidden":"visible",...X("inputField"),unstyled:o,onFocus:t=>{K==null||K(t),S&&g.openDropdown()},onBlur:t=>{U==null||U(t),g.closeDropdown(),L("")},onKeyDown:ns,value:A,onChange:t=>{L(t.currentTarget.value),S&&g.openDropdown(),_&&g.selectFirstOption()},disabled:D,readOnly:E||!S,pointer:!S})})]})})}),l.jsx(bs,{data:re?he:Q,hidden:E||D,filter:k,search:A,limit:w,hiddenWhenEmpty:!S||!ne||re&&he.length===0&&A.trim().length===0,withScrollArea:C,maxDropdownHeight:we,filterOptions:S,value:d,checkIconPosition:qe,withCheckIcon:We,nothingFoundMessage:ne,unstyled:o,labelId:Y?`${J}-label`:void 0,"aria-label":Y?void 0:ce["aria-label"],renderOption:ts,scrollAreaProps:ls})]}),l.jsx(O.HiddenInput,{name:Ue,valuesDivider:Ze,value:d,form:Ye,disabled:D,...Xe})]})});xe.classes={...Pe.classes,...O.classes};xe.displayName="@mantine/core/MultiSelect";export{xe as M};
